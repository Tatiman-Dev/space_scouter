FROM python:3.9

WORKDIR /app

COPY requirements.txt .
RUN pip install --upgrade pip && \
    pip install -r requirements.txt

COPY . .

CMD ["pyinstaller", "--noconfirm", "--onedir", "--windowed", "--add-data", "venv/Lib/site-packages/customtkinter;customtkinter/", "--add-data", "cfg;cfg/", "--add-data", "scores;scores/", "--add-data", "rankings;rankings/", "main.py"]
